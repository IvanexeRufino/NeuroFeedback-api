//# sourceMappingURL=spring-security-ui-ajaxLogin.js.map
$(function(){var a={};a[cancelButtonCaption]=function(){$(this).dialog("close")};a[loginButtonCaption]=function(){$("#loginForm").submit()};$("#loginFormContainer").dialog({autoOpen:!1,height:450,width:450,modal:!0,buttons:a});$("#loginForm").bind("submit",function(){$(this).ajaxSubmit({target:"#loginMessage",beforeSubmit:function(){$("#loginMessage").html(loggingYouIn);return!0},success:function(b){b.success?b.url?document.location=b.url:($("#loginFormContainer").dialog("close"),$("#loginLinkContainer").html(loggedInAsWithPlaceholder.replace(/\{0\}/,
b.username)+' (<a href="'+$("#_logout").attr("href")+'" id="logout">Logout</a>)'),$("#logout").click(logout)):b.error?$("#loginMessage").html("<span class='errorMessage'>"+b.error+"</error>"):$("#loginMessage").html(responseText)},dataType:"json"});return!1});$("#loginLink").click(function(){$("#loginFormContainer").show().dialog("open");$("#ajaxUsername").focus()});$("#logout").click(logout)});
function logout(a){a.preventDefault();$.ajax({url:$("#_logout").attr("href"),method:"post",success:function(b,a,c){window.location=$("#_afterLogout").attr("href")},error:function(b,a,c){console.log("Logout error, textStatus: "+a+", errorThrown: "+c)}})};